# 1:M 재귀적 관계

<br>

![스크린샷 2023-04-12 오후 12 16 27](https://user-images.githubusercontent.com/81137234/231339693-d50c3a89-e073-4640-a271-7853cf08aad1.png)

<br>

만약 회사 - 상위부서 - 하위부서 ... 끝도 없이 분기할 필요가 있다고 생각하자.  
단적인 예시는 분류코드라는 것이 있다.

<br>

![스크린샷 2023-04-12 오후 12 32 34](https://user-images.githubusercontent.com/81137234/231341908-f41afc87-3608-4782-b8be-1c21d1631001.png)

<br>

테이블 옆에 있는 마크는 기본키, 외래키를 모두 가진 상위 테이블이라는 것이다.  
만약 상위 테이블이라면 상위 부서가 없을 수 있다.  
따라서 Null 일 수 있다.   
외래키는 있을수도 없을수도 있기 때문이다.  
이런 구조를 재귀적 관계의 테이블이라고 한다.

<br>

![스크린샷 2023-04-12 오후 12 35 28](https://user-images.githubusercontent.com/81137234/231342435-b5f5278d-b149-411d-9b4b-dbf6d0d3d681.png)

<br>

데이터를 보면 위처럼 상위부서는 외래키가 없으니 Null 
하위부서는 상위 부서의 외래키를 참조한다.  

<br>

![스크린샷 2023-04-12 오후 12 37 31](https://user-images.githubusercontent.com/81137234/231342720-30ab80ef-be22-43c6-a280-87c0de6452ad.png)

<br>

join 으로 보면 두 테이블이 조인이 된것을 볼 수 있다.  
위처럼 재귀적 구조의 테이블을 작성하면 된다.

<br>

![스크린샷 2023-04-12 오후 12 39 45](https://user-images.githubusercontent.com/81137234/231343053-55703acb-07e5-418f-9135-34832e122759.png)

<br>

그래서 1:M 관계는 이렇게 될 것이다.

<br>
